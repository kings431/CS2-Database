/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/aws4";
exports.ids = ["vendor-chunks/aws4"];
exports.modules = {

/***/ "(rsc)/./node_modules/aws4/aws4.js":
/*!***********************************!*\
  !*** ./node_modules/aws4/aws4.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("var aws4 = exports,\n    url = __webpack_require__(/*! url */ \"url\"),\n    querystring = __webpack_require__(/*! querystring */ \"querystring\"),\n    crypto = __webpack_require__(/*! crypto */ \"crypto\"),\n    lru = __webpack_require__(/*! ./lru */ \"(rsc)/./node_modules/aws4/lru.js\"),\n    credentialsCache = lru(1000)\n\n// http://docs.amazonwebservices.com/general/latest/gr/signature-version-4.html\n\nfunction hmac(key, string, encoding) {\n  return crypto.createHmac('sha256', key).update(string, 'utf8').digest(encoding)\n}\n\nfunction hash(string, encoding) {\n  return crypto.createHash('sha256').update(string, 'utf8').digest(encoding)\n}\n\n// This function assumes the string has already been percent encoded\nfunction encodeRfc3986(urlEncodedString) {\n  return urlEncodedString.replace(/[!'()*]/g, function(c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\nfunction encodeRfc3986Full(str) {\n  return encodeRfc3986(encodeURIComponent(str))\n}\n\n// A bit of a combination of:\n// https://github.com/aws/aws-sdk-java-v2/blob/dc695de6ab49ad03934e1b02e7263abbd2354be0/core/auth/src/main/java/software/amazon/awssdk/auth/signer/internal/AbstractAws4Signer.java#L59\n// https://github.com/aws/aws-sdk-js/blob/18cb7e5b463b46239f9fdd4a65e2ff8c81831e8f/lib/signers/v4.js#L191-L199\n// https://github.com/mhart/aws4fetch/blob/b3aed16b6f17384cf36ea33bcba3c1e9f3bdfefd/src/main.js#L25-L34\nvar HEADERS_TO_IGNORE = {\n  'authorization': true,\n  'connection': true,\n  'x-amzn-trace-id': true,\n  'user-agent': true,\n  'expect': true,\n  'presigned-expires': true,\n  'range': true,\n}\n\n// request: { path | body, [host], [method], [headers], [service], [region] }\n// credentials: { accessKeyId, secretAccessKey, [sessionToken] }\nfunction RequestSigner(request, credentials) {\n\n  if (typeof request === 'string') request = url.parse(request)\n\n  var headers = request.headers = Object.assign({}, (request.headers || {})),\n      hostParts = (!this.service || !this.region) && this.matchHost(request.hostname || request.host || headers.Host || headers.host)\n\n  this.request = request\n  this.credentials = credentials || this.defaultCredentials()\n\n  this.service = request.service || hostParts[0] || ''\n  this.region = request.region || hostParts[1] || 'us-east-1'\n\n  // SES uses a different domain from the service name\n  if (this.service === 'email') this.service = 'ses'\n\n  if (!request.method && request.body)\n    request.method = 'POST'\n\n  if (!headers.Host && !headers.host) {\n    headers.Host = request.hostname || request.host || this.createHost()\n\n    // If a port is specified explicitly, use it as is\n    if (request.port)\n      headers.Host += ':' + request.port\n  }\n  if (!request.hostname && !request.host)\n    request.hostname = headers.Host || headers.host\n\n  this.isCodeCommitGit = this.service === 'codecommit' && request.method === 'GIT'\n\n  this.extraHeadersToIgnore = request.extraHeadersToIgnore || Object.create(null)\n  this.extraHeadersToInclude = request.extraHeadersToInclude || Object.create(null)\n}\n\nRequestSigner.prototype.matchHost = function(host) {\n  var match = (host || '').match(/([^\\.]{1,63})\\.(?:([^\\.]{0,63})\\.)?amazonaws\\.com(\\.cn)?$/)\n  var hostParts = (match || []).slice(1, 3)\n\n  // ES's hostParts are sometimes the other way round, if the value that is expected\n  // to be region equals ‘es’ switch them back\n  // e.g. search-cluster-name-aaaa00aaaa0aaa0aaaaaaa0aaa.us-east-1.es.amazonaws.com\n  if (hostParts[1] === 'es' || hostParts[1] === 'aoss')\n    hostParts = hostParts.reverse()\n\n  if (hostParts[1] == 's3') {\n    hostParts[0] = 's3'\n    hostParts[1] = 'us-east-1'\n  } else {\n    for (var i = 0; i < 2; i++) {\n      if (/^s3-/.test(hostParts[i])) {\n        hostParts[1] = hostParts[i].slice(3)\n        hostParts[0] = 's3'\n        break\n      }\n    }\n  }\n\n  return hostParts\n}\n\n// http://docs.aws.amazon.com/general/latest/gr/rande.html\nRequestSigner.prototype.isSingleRegion = function() {\n  // Special case for S3 and SimpleDB in us-east-1\n  if (['s3', 'sdb'].indexOf(this.service) >= 0 && this.region === 'us-east-1') return true\n\n  return ['cloudfront', 'ls', 'route53', 'iam', 'importexport', 'sts']\n    .indexOf(this.service) >= 0\n}\n\nRequestSigner.prototype.createHost = function() {\n  var region = this.isSingleRegion() ? '' : '.' + this.region,\n      subdomain = this.service === 'ses' ? 'email' : this.service\n  return subdomain + region + '.amazonaws.com'\n}\n\nRequestSigner.prototype.prepareRequest = function() {\n  this.parsePath()\n\n  var request = this.request, headers = request.headers, query\n\n  if (request.signQuery) {\n\n    this.parsedPath.query = query = this.parsedPath.query || {}\n\n    if (this.credentials.sessionToken)\n      query['X-Amz-Security-Token'] = this.credentials.sessionToken\n\n    if (this.service === 's3' && !query['X-Amz-Expires'])\n      query['X-Amz-Expires'] = 86400\n\n    if (query['X-Amz-Date'])\n      this.datetime = query['X-Amz-Date']\n    else\n      query['X-Amz-Date'] = this.getDateTime()\n\n    query['X-Amz-Algorithm'] = 'AWS4-HMAC-SHA256'\n    query['X-Amz-Credential'] = this.credentials.accessKeyId + '/' + this.credentialString()\n    query['X-Amz-SignedHeaders'] = this.signedHeaders()\n\n  } else {\n\n    if (!request.doNotModifyHeaders && !this.isCodeCommitGit) {\n      if (request.body && !headers['Content-Type'] && !headers['content-type'])\n        headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=utf-8'\n\n      if (request.body && !headers['Content-Length'] && !headers['content-length'])\n        headers['Content-Length'] = Buffer.byteLength(request.body)\n\n      if (this.credentials.sessionToken && !headers['X-Amz-Security-Token'] && !headers['x-amz-security-token'])\n        headers['X-Amz-Security-Token'] = this.credentials.sessionToken\n\n      if (this.service === 's3' && !headers['X-Amz-Content-Sha256'] && !headers['x-amz-content-sha256'])\n        headers['X-Amz-Content-Sha256'] = hash(this.request.body || '', 'hex')\n\n      if (headers['X-Amz-Date'] || headers['x-amz-date'])\n        this.datetime = headers['X-Amz-Date'] || headers['x-amz-date']\n      else\n        headers['X-Amz-Date'] = this.getDateTime()\n    }\n\n    delete headers.Authorization\n    delete headers.authorization\n  }\n}\n\nRequestSigner.prototype.sign = function() {\n  if (!this.parsedPath) this.prepareRequest()\n\n  if (this.request.signQuery) {\n    this.parsedPath.query['X-Amz-Signature'] = this.signature()\n  } else {\n    this.request.headers.Authorization = this.authHeader()\n  }\n\n  this.request.path = this.formatPath()\n\n  return this.request\n}\n\nRequestSigner.prototype.getDateTime = function() {\n  if (!this.datetime) {\n    var headers = this.request.headers,\n      date = new Date(headers.Date || headers.date || new Date)\n\n    this.datetime = date.toISOString().replace(/[:\\-]|\\.\\d{3}/g, '')\n\n    // Remove the trailing 'Z' on the timestamp string for CodeCommit git access\n    if (this.isCodeCommitGit) this.datetime = this.datetime.slice(0, -1)\n  }\n  return this.datetime\n}\n\nRequestSigner.prototype.getDate = function() {\n  return this.getDateTime().substr(0, 8)\n}\n\nRequestSigner.prototype.authHeader = function() {\n  return [\n    'AWS4-HMAC-SHA256 Credential=' + this.credentials.accessKeyId + '/' + this.credentialString(),\n    'SignedHeaders=' + this.signedHeaders(),\n    'Signature=' + this.signature(),\n  ].join(', ')\n}\n\nRequestSigner.prototype.signature = function() {\n  var date = this.getDate(),\n      cacheKey = [this.credentials.secretAccessKey, date, this.region, this.service].join(),\n      kDate, kRegion, kService, kCredentials = credentialsCache.get(cacheKey)\n  if (!kCredentials) {\n    kDate = hmac('AWS4' + this.credentials.secretAccessKey, date)\n    kRegion = hmac(kDate, this.region)\n    kService = hmac(kRegion, this.service)\n    kCredentials = hmac(kService, 'aws4_request')\n    credentialsCache.set(cacheKey, kCredentials)\n  }\n  return hmac(kCredentials, this.stringToSign(), 'hex')\n}\n\nRequestSigner.prototype.stringToSign = function() {\n  return [\n    'AWS4-HMAC-SHA256',\n    this.getDateTime(),\n    this.credentialString(),\n    hash(this.canonicalString(), 'hex'),\n  ].join('\\n')\n}\n\nRequestSigner.prototype.canonicalString = function() {\n  if (!this.parsedPath) this.prepareRequest()\n\n  var pathStr = this.parsedPath.path,\n      query = this.parsedPath.query,\n      headers = this.request.headers,\n      queryStr = '',\n      normalizePath = this.service !== 's3',\n      decodePath = this.service === 's3' || this.request.doNotEncodePath,\n      decodeSlashesInPath = this.service === 's3',\n      firstValOnly = this.service === 's3',\n      bodyHash\n\n  if (this.service === 's3' && this.request.signQuery) {\n    bodyHash = 'UNSIGNED-PAYLOAD'\n  } else if (this.isCodeCommitGit) {\n    bodyHash = ''\n  } else {\n    bodyHash = headers['X-Amz-Content-Sha256'] || headers['x-amz-content-sha256'] ||\n      hash(this.request.body || '', 'hex')\n  }\n\n  if (query) {\n    var reducedQuery = Object.keys(query).reduce(function(obj, key) {\n      if (!key) return obj\n      obj[encodeRfc3986Full(key)] = !Array.isArray(query[key]) ? query[key] :\n        (firstValOnly ? query[key][0] : query[key])\n      return obj\n    }, {})\n    var encodedQueryPieces = []\n    Object.keys(reducedQuery).sort().forEach(function(key) {\n      if (!Array.isArray(reducedQuery[key])) {\n        encodedQueryPieces.push(key + '=' + encodeRfc3986Full(reducedQuery[key]))\n      } else {\n        reducedQuery[key].map(encodeRfc3986Full).sort()\n          .forEach(function(val) { encodedQueryPieces.push(key + '=' + val) })\n      }\n    })\n    queryStr = encodedQueryPieces.join('&')\n  }\n  if (pathStr !== '/') {\n    if (normalizePath) pathStr = pathStr.replace(/\\/{2,}/g, '/')\n    pathStr = pathStr.split('/').reduce(function(path, piece) {\n      if (normalizePath && piece === '..') {\n        path.pop()\n      } else if (!normalizePath || piece !== '.') {\n        if (decodePath) piece = decodeURIComponent(piece.replace(/\\+/g, ' '))\n        path.push(encodeRfc3986Full(piece))\n      }\n      return path\n    }, []).join('/')\n    if (pathStr[0] !== '/') pathStr = '/' + pathStr\n    if (decodeSlashesInPath) pathStr = pathStr.replace(/%2F/g, '/')\n  }\n\n  return [\n    this.request.method || 'GET',\n    pathStr,\n    queryStr,\n    this.canonicalHeaders() + '\\n',\n    this.signedHeaders(),\n    bodyHash,\n  ].join('\\n')\n}\n\nRequestSigner.prototype.filterHeaders = function() {\n  var headers = this.request.headers,\n      extraHeadersToInclude = this.extraHeadersToInclude,\n      extraHeadersToIgnore = this.extraHeadersToIgnore\n  this.filteredHeaders = Object.keys(headers)\n    .map(function(key) { return [key.toLowerCase(), headers[key]] })\n    .filter(function(entry) {\n      return extraHeadersToInclude[entry[0]] ||\n        (HEADERS_TO_IGNORE[entry[0]] == null && !extraHeadersToIgnore[entry[0]])\n    })\n    .sort(function(a, b) { return a[0] < b[0] ? -1 : 1 })\n}\n\nRequestSigner.prototype.canonicalHeaders = function() {\n  if (!this.filteredHeaders) this.filterHeaders()\n\n  return this.filteredHeaders.map(function(entry) {\n    return entry[0] + ':' + entry[1].toString().trim().replace(/\\s+/g, ' ')\n  }).join('\\n')\n}\n\nRequestSigner.prototype.signedHeaders = function() {\n  if (!this.filteredHeaders) this.filterHeaders()\n\n  return this.filteredHeaders.map(function(entry) { return entry[0] }).join(';')\n}\n\nRequestSigner.prototype.credentialString = function() {\n  return [\n    this.getDate(),\n    this.region,\n    this.service,\n    'aws4_request',\n  ].join('/')\n}\n\nRequestSigner.prototype.defaultCredentials = function() {\n  var env = process.env\n  return {\n    accessKeyId: env.AWS_ACCESS_KEY_ID || env.AWS_ACCESS_KEY,\n    secretAccessKey: env.AWS_SECRET_ACCESS_KEY || env.AWS_SECRET_KEY,\n    sessionToken: env.AWS_SESSION_TOKEN,\n  }\n}\n\nRequestSigner.prototype.parsePath = function() {\n  var path = this.request.path || '/'\n\n  // S3 doesn't always encode characters > 127 correctly and\n  // all services don't encode characters > 255 correctly\n  // So if there are non-reserved chars (and it's not already all % encoded), just encode them all\n  if (/[^0-9A-Za-z;,/?:@&=+$\\-_.!~*'()#%]/.test(path)) {\n    path = encodeURI(decodeURI(path))\n  }\n\n  var queryIx = path.indexOf('?'),\n      query = null\n\n  if (queryIx >= 0) {\n    query = querystring.parse(path.slice(queryIx + 1))\n    path = path.slice(0, queryIx)\n  }\n\n  this.parsedPath = {\n    path: path,\n    query: query,\n  }\n}\n\nRequestSigner.prototype.formatPath = function() {\n  var path = this.parsedPath.path,\n      query = this.parsedPath.query\n\n  if (!query) return path\n\n  // Services don't support empty query string keys\n  if (query[''] != null) delete query['']\n\n  return path + '?' + encodeRfc3986(querystring.stringify(query))\n}\n\naws4.RequestSigner = RequestSigner\n\naws4.sign = function(request, credentials) {\n  return new RequestSigner(request, credentials).sign()\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvYXdzNC9hd3M0LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsVUFBVSxtQkFBTyxDQUFDLGdCQUFLO0FBQ3ZCLGtCQUFrQixtQkFBTyxDQUFDLGdDQUFhO0FBQ3ZDLGFBQWEsbUJBQU8sQ0FBQyxzQkFBUTtBQUM3QixVQUFVLG1CQUFPLENBQUMsK0NBQU87QUFDekI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkLGtCQUFrQjtBQUNsQjs7QUFFQTs7QUFFQSxrREFBa0Qsd0JBQXdCO0FBQzFFOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUNBQXlDLEtBQUssYUFBYSxLQUFLO0FBQ2hFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBLHNFQUFzRTs7QUFFdEU7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJEQUEyRCxFQUFFOztBQUU3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsbUNBQW1DLDBDQUEwQztBQUM3RTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsR0FBRztBQUN4RDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBDQUEwQztBQUNuRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkJBQTJCLDZCQUE2QjtBQUN4RDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQSxvREFBb0QsaUJBQWlCLFNBQVM7QUFDOUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3MyLXNraW4tdHJhY2tlci8uL25vZGVfbW9kdWxlcy9hd3M0L2F3czQuanM/MWRkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYXdzNCA9IGV4cG9ydHMsXG4gICAgdXJsID0gcmVxdWlyZSgndXJsJyksXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpLFxuICAgIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpLFxuICAgIGxydSA9IHJlcXVpcmUoJy4vbHJ1JyksXG4gICAgY3JlZGVudGlhbHNDYWNoZSA9IGxydSgxMDAwKVxuXG4vLyBodHRwOi8vZG9jcy5hbWF6b253ZWJzZXJ2aWNlcy5jb20vZ2VuZXJhbC9sYXRlc3QvZ3Ivc2lnbmF0dXJlLXZlcnNpb24tNC5odG1sXG5cbmZ1bmN0aW9uIGhtYWMoa2V5LCBzdHJpbmcsIGVuY29kaW5nKSB7XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSG1hYygnc2hhMjU2Jywga2V5KS51cGRhdGUoc3RyaW5nLCAndXRmOCcpLmRpZ2VzdChlbmNvZGluZylcbn1cblxuZnVuY3Rpb24gaGFzaChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKHN0cmluZywgJ3V0ZjgnKS5kaWdlc3QoZW5jb2RpbmcpXG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGUgc3RyaW5nIGhhcyBhbHJlYWR5IGJlZW4gcGVyY2VudCBlbmNvZGVkXG5mdW5jdGlvbiBlbmNvZGVSZmMzOTg2KHVybEVuY29kZWRTdHJpbmcpIHtcbiAgcmV0dXJuIHVybEVuY29kZWRTdHJpbmcucmVwbGFjZSgvWyEnKCkqXS9nLCBmdW5jdGlvbihjKSB7XG4gICAgcmV0dXJuICclJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKVxuICB9KVxufVxuXG5mdW5jdGlvbiBlbmNvZGVSZmMzOTg2RnVsbChzdHIpIHtcbiAgcmV0dXJuIGVuY29kZVJmYzM5ODYoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpXG59XG5cbi8vIEEgYml0IG9mIGEgY29tYmluYXRpb24gb2Y6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXdzL2F3cy1zZGstamF2YS12Mi9ibG9iL2RjNjk1ZGU2YWI0OWFkMDM5MzRlMWIwMmU3MjYzYWJiZDIzNTRiZTAvY29yZS9hdXRoL3NyYy9tYWluL2phdmEvc29mdHdhcmUvYW1hem9uL2F3c3Nkay9hdXRoL3NpZ25lci9pbnRlcm5hbC9BYnN0cmFjdEF3czRTaWduZXIuamF2YSNMNTlcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hd3MvYXdzLXNkay1qcy9ibG9iLzE4Y2I3ZTViNDYzYjQ2MjM5ZjlmZGQ0YTY1ZTJmZjhjODE4MzFlOGYvbGliL3NpZ25lcnMvdjQuanMjTDE5MS1MMTk5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vbWhhcnQvYXdzNGZldGNoL2Jsb2IvYjNhZWQxNmI2ZjE3Mzg0Y2YzNmVhMzNiY2JhM2MxZTlmM2JkZmVmZC9zcmMvbWFpbi5qcyNMMjUtTDM0XG52YXIgSEVBREVSU19UT19JR05PUkUgPSB7XG4gICdhdXRob3JpemF0aW9uJzogdHJ1ZSxcbiAgJ2Nvbm5lY3Rpb24nOiB0cnVlLFxuICAneC1hbXpuLXRyYWNlLWlkJzogdHJ1ZSxcbiAgJ3VzZXItYWdlbnQnOiB0cnVlLFxuICAnZXhwZWN0JzogdHJ1ZSxcbiAgJ3ByZXNpZ25lZC1leHBpcmVzJzogdHJ1ZSxcbiAgJ3JhbmdlJzogdHJ1ZSxcbn1cblxuLy8gcmVxdWVzdDogeyBwYXRoIHwgYm9keSwgW2hvc3RdLCBbbWV0aG9kXSwgW2hlYWRlcnNdLCBbc2VydmljZV0sIFtyZWdpb25dIH1cbi8vIGNyZWRlbnRpYWxzOiB7IGFjY2Vzc0tleUlkLCBzZWNyZXRBY2Nlc3NLZXksIFtzZXNzaW9uVG9rZW5dIH1cbmZ1bmN0aW9uIFJlcXVlc3RTaWduZXIocmVxdWVzdCwgY3JlZGVudGlhbHMpIHtcblxuICBpZiAodHlwZW9mIHJlcXVlc3QgPT09ICdzdHJpbmcnKSByZXF1ZXN0ID0gdXJsLnBhcnNlKHJlcXVlc3QpXG5cbiAgdmFyIGhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCAocmVxdWVzdC5oZWFkZXJzIHx8IHt9KSksXG4gICAgICBob3N0UGFydHMgPSAoIXRoaXMuc2VydmljZSB8fCAhdGhpcy5yZWdpb24pICYmIHRoaXMubWF0Y2hIb3N0KHJlcXVlc3QuaG9zdG5hbWUgfHwgcmVxdWVzdC5ob3N0IHx8IGhlYWRlcnMuSG9zdCB8fCBoZWFkZXJzLmhvc3QpXG5cbiAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdFxuICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHMgfHwgdGhpcy5kZWZhdWx0Q3JlZGVudGlhbHMoKVxuXG4gIHRoaXMuc2VydmljZSA9IHJlcXVlc3Quc2VydmljZSB8fCBob3N0UGFydHNbMF0gfHwgJydcbiAgdGhpcy5yZWdpb24gPSByZXF1ZXN0LnJlZ2lvbiB8fCBob3N0UGFydHNbMV0gfHwgJ3VzLWVhc3QtMSdcblxuICAvLyBTRVMgdXNlcyBhIGRpZmZlcmVudCBkb21haW4gZnJvbSB0aGUgc2VydmljZSBuYW1lXG4gIGlmICh0aGlzLnNlcnZpY2UgPT09ICdlbWFpbCcpIHRoaXMuc2VydmljZSA9ICdzZXMnXG5cbiAgaWYgKCFyZXF1ZXN0Lm1ldGhvZCAmJiByZXF1ZXN0LmJvZHkpXG4gICAgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCdcblxuICBpZiAoIWhlYWRlcnMuSG9zdCAmJiAhaGVhZGVycy5ob3N0KSB7XG4gICAgaGVhZGVycy5Ib3N0ID0gcmVxdWVzdC5ob3N0bmFtZSB8fCByZXF1ZXN0Lmhvc3QgfHwgdGhpcy5jcmVhdGVIb3N0KClcblxuICAgIC8vIElmIGEgcG9ydCBpcyBzcGVjaWZpZWQgZXhwbGljaXRseSwgdXNlIGl0IGFzIGlzXG4gICAgaWYgKHJlcXVlc3QucG9ydClcbiAgICAgIGhlYWRlcnMuSG9zdCArPSAnOicgKyByZXF1ZXN0LnBvcnRcbiAgfVxuICBpZiAoIXJlcXVlc3QuaG9zdG5hbWUgJiYgIXJlcXVlc3QuaG9zdClcbiAgICByZXF1ZXN0Lmhvc3RuYW1lID0gaGVhZGVycy5Ib3N0IHx8IGhlYWRlcnMuaG9zdFxuXG4gIHRoaXMuaXNDb2RlQ29tbWl0R2l0ID0gdGhpcy5zZXJ2aWNlID09PSAnY29kZWNvbW1pdCcgJiYgcmVxdWVzdC5tZXRob2QgPT09ICdHSVQnXG5cbiAgdGhpcy5leHRyYUhlYWRlcnNUb0lnbm9yZSA9IHJlcXVlc3QuZXh0cmFIZWFkZXJzVG9JZ25vcmUgfHwgT2JqZWN0LmNyZWF0ZShudWxsKVxuICB0aGlzLmV4dHJhSGVhZGVyc1RvSW5jbHVkZSA9IHJlcXVlc3QuZXh0cmFIZWFkZXJzVG9JbmNsdWRlIHx8IE9iamVjdC5jcmVhdGUobnVsbClcbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUubWF0Y2hIb3N0ID0gZnVuY3Rpb24oaG9zdCkge1xuICB2YXIgbWF0Y2ggPSAoaG9zdCB8fCAnJykubWF0Y2goLyhbXlxcLl17MSw2M30pXFwuKD86KFteXFwuXXswLDYzfSlcXC4pP2FtYXpvbmF3c1xcLmNvbShcXC5jbik/JC8pXG4gIHZhciBob3N0UGFydHMgPSAobWF0Y2ggfHwgW10pLnNsaWNlKDEsIDMpXG5cbiAgLy8gRVMncyBob3N0UGFydHMgYXJlIHNvbWV0aW1lcyB0aGUgb3RoZXIgd2F5IHJvdW5kLCBpZiB0aGUgdmFsdWUgdGhhdCBpcyBleHBlY3RlZFxuICAvLyB0byBiZSByZWdpb24gZXF1YWxzIOKAmGVz4oCZIHN3aXRjaCB0aGVtIGJhY2tcbiAgLy8gZS5nLiBzZWFyY2gtY2x1c3Rlci1uYW1lLWFhYWEwMGFhYWEwYWFhMGFhYWFhYWEwYWFhLnVzLWVhc3QtMS5lcy5hbWF6b25hd3MuY29tXG4gIGlmIChob3N0UGFydHNbMV0gPT09ICdlcycgfHwgaG9zdFBhcnRzWzFdID09PSAnYW9zcycpXG4gICAgaG9zdFBhcnRzID0gaG9zdFBhcnRzLnJldmVyc2UoKVxuXG4gIGlmIChob3N0UGFydHNbMV0gPT0gJ3MzJykge1xuICAgIGhvc3RQYXJ0c1swXSA9ICdzMydcbiAgICBob3N0UGFydHNbMV0gPSAndXMtZWFzdC0xJ1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICBpZiAoL15zMy0vLnRlc3QoaG9zdFBhcnRzW2ldKSkge1xuICAgICAgICBob3N0UGFydHNbMV0gPSBob3N0UGFydHNbaV0uc2xpY2UoMylcbiAgICAgICAgaG9zdFBhcnRzWzBdID0gJ3MzJ1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBob3N0UGFydHNcbn1cblxuLy8gaHR0cDovL2RvY3MuYXdzLmFtYXpvbi5jb20vZ2VuZXJhbC9sYXRlc3QvZ3IvcmFuZGUuaHRtbFxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUuaXNTaW5nbGVSZWdpb24gPSBmdW5jdGlvbigpIHtcbiAgLy8gU3BlY2lhbCBjYXNlIGZvciBTMyBhbmQgU2ltcGxlREIgaW4gdXMtZWFzdC0xXG4gIGlmIChbJ3MzJywgJ3NkYiddLmluZGV4T2YodGhpcy5zZXJ2aWNlKSA+PSAwICYmIHRoaXMucmVnaW9uID09PSAndXMtZWFzdC0xJykgcmV0dXJuIHRydWVcblxuICByZXR1cm4gWydjbG91ZGZyb250JywgJ2xzJywgJ3JvdXRlNTMnLCAnaWFtJywgJ2ltcG9ydGV4cG9ydCcsICdzdHMnXVxuICAgIC5pbmRleE9mKHRoaXMuc2VydmljZSkgPj0gMFxufVxuXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5jcmVhdGVIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZWdpb24gPSB0aGlzLmlzU2luZ2xlUmVnaW9uKCkgPyAnJyA6ICcuJyArIHRoaXMucmVnaW9uLFxuICAgICAgc3ViZG9tYWluID0gdGhpcy5zZXJ2aWNlID09PSAnc2VzJyA/ICdlbWFpbCcgOiB0aGlzLnNlcnZpY2VcbiAgcmV0dXJuIHN1YmRvbWFpbiArIHJlZ2lvbiArICcuYW1hem9uYXdzLmNvbSdcbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUucHJlcGFyZVJlcXVlc3QgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wYXJzZVBhdGgoKVxuXG4gIHZhciByZXF1ZXN0ID0gdGhpcy5yZXF1ZXN0LCBoZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzLCBxdWVyeVxuXG4gIGlmIChyZXF1ZXN0LnNpZ25RdWVyeSkge1xuXG4gICAgdGhpcy5wYXJzZWRQYXRoLnF1ZXJ5ID0gcXVlcnkgPSB0aGlzLnBhcnNlZFBhdGgucXVlcnkgfHwge31cblxuICAgIGlmICh0aGlzLmNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbilcbiAgICAgIHF1ZXJ5WydYLUFtei1TZWN1cml0eS1Ub2tlbiddID0gdGhpcy5jcmVkZW50aWFscy5zZXNzaW9uVG9rZW5cblxuICAgIGlmICh0aGlzLnNlcnZpY2UgPT09ICdzMycgJiYgIXF1ZXJ5WydYLUFtei1FeHBpcmVzJ10pXG4gICAgICBxdWVyeVsnWC1BbXotRXhwaXJlcyddID0gODY0MDBcblxuICAgIGlmIChxdWVyeVsnWC1BbXotRGF0ZSddKVxuICAgICAgdGhpcy5kYXRldGltZSA9IHF1ZXJ5WydYLUFtei1EYXRlJ11cbiAgICBlbHNlXG4gICAgICBxdWVyeVsnWC1BbXotRGF0ZSddID0gdGhpcy5nZXREYXRlVGltZSgpXG5cbiAgICBxdWVyeVsnWC1BbXotQWxnb3JpdGhtJ10gPSAnQVdTNC1ITUFDLVNIQTI1NidcbiAgICBxdWVyeVsnWC1BbXotQ3JlZGVudGlhbCddID0gdGhpcy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCArICcvJyArIHRoaXMuY3JlZGVudGlhbFN0cmluZygpXG4gICAgcXVlcnlbJ1gtQW16LVNpZ25lZEhlYWRlcnMnXSA9IHRoaXMuc2lnbmVkSGVhZGVycygpXG5cbiAgfSBlbHNlIHtcblxuICAgIGlmICghcmVxdWVzdC5kb05vdE1vZGlmeUhlYWRlcnMgJiYgIXRoaXMuaXNDb2RlQ29tbWl0R2l0KSB7XG4gICAgICBpZiAocmVxdWVzdC5ib2R5ICYmICFoZWFkZXJzWydDb250ZW50LVR5cGUnXSAmJiAhaGVhZGVyc1snY29udGVudC10eXBlJ10pXG4gICAgICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCdcblxuICAgICAgaWYgKHJlcXVlc3QuYm9keSAmJiAhaGVhZGVyc1snQ29udGVudC1MZW5ndGgnXSAmJiAhaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSlcbiAgICAgICAgaGVhZGVyc1snQ29udGVudC1MZW5ndGgnXSA9IEJ1ZmZlci5ieXRlTGVuZ3RoKHJlcXVlc3QuYm9keSlcblxuICAgICAgaWYgKHRoaXMuY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuICYmICFoZWFkZXJzWydYLUFtei1TZWN1cml0eS1Ub2tlbiddICYmICFoZWFkZXJzWyd4LWFtei1zZWN1cml0eS10b2tlbiddKVxuICAgICAgICBoZWFkZXJzWydYLUFtei1TZWN1cml0eS1Ub2tlbiddID0gdGhpcy5jcmVkZW50aWFscy5zZXNzaW9uVG9rZW5cblxuICAgICAgaWYgKHRoaXMuc2VydmljZSA9PT0gJ3MzJyAmJiAhaGVhZGVyc1snWC1BbXotQ29udGVudC1TaGEyNTYnXSAmJiAhaGVhZGVyc1sneC1hbXotY29udGVudC1zaGEyNTYnXSlcbiAgICAgICAgaGVhZGVyc1snWC1BbXotQ29udGVudC1TaGEyNTYnXSA9IGhhc2godGhpcy5yZXF1ZXN0LmJvZHkgfHwgJycsICdoZXgnKVxuXG4gICAgICBpZiAoaGVhZGVyc1snWC1BbXotRGF0ZSddIHx8IGhlYWRlcnNbJ3gtYW16LWRhdGUnXSlcbiAgICAgICAgdGhpcy5kYXRldGltZSA9IGhlYWRlcnNbJ1gtQW16LURhdGUnXSB8fCBoZWFkZXJzWyd4LWFtei1kYXRlJ11cbiAgICAgIGVsc2VcbiAgICAgICAgaGVhZGVyc1snWC1BbXotRGF0ZSddID0gdGhpcy5nZXREYXRlVGltZSgpXG4gICAgfVxuXG4gICAgZGVsZXRlIGhlYWRlcnMuQXV0aG9yaXphdGlvblxuICAgIGRlbGV0ZSBoZWFkZXJzLmF1dGhvcml6YXRpb25cbiAgfVxufVxuXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5wYXJzZWRQYXRoKSB0aGlzLnByZXBhcmVSZXF1ZXN0KClcblxuICBpZiAodGhpcy5yZXF1ZXN0LnNpZ25RdWVyeSkge1xuICAgIHRoaXMucGFyc2VkUGF0aC5xdWVyeVsnWC1BbXotU2lnbmF0dXJlJ10gPSB0aGlzLnNpZ25hdHVyZSgpXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yZXF1ZXN0LmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHRoaXMuYXV0aEhlYWRlcigpXG4gIH1cblxuICB0aGlzLnJlcXVlc3QucGF0aCA9IHRoaXMuZm9ybWF0UGF0aCgpXG5cbiAgcmV0dXJuIHRoaXMucmVxdWVzdFxufVxuXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5nZXREYXRlVGltZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuZGF0ZXRpbWUpIHtcbiAgICB2YXIgaGVhZGVycyA9IHRoaXMucmVxdWVzdC5oZWFkZXJzLFxuICAgICAgZGF0ZSA9IG5ldyBEYXRlKGhlYWRlcnMuRGF0ZSB8fCBoZWFkZXJzLmRhdGUgfHwgbmV3IERhdGUpXG5cbiAgICB0aGlzLmRhdGV0aW1lID0gZGF0ZS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1s6XFwtXXxcXC5cXGR7M30vZywgJycpXG5cbiAgICAvLyBSZW1vdmUgdGhlIHRyYWlsaW5nICdaJyBvbiB0aGUgdGltZXN0YW1wIHN0cmluZyBmb3IgQ29kZUNvbW1pdCBnaXQgYWNjZXNzXG4gICAgaWYgKHRoaXMuaXNDb2RlQ29tbWl0R2l0KSB0aGlzLmRhdGV0aW1lID0gdGhpcy5kYXRldGltZS5zbGljZSgwLCAtMSlcbiAgfVxuICByZXR1cm4gdGhpcy5kYXRldGltZVxufVxuXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5nZXREYXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldERhdGVUaW1lKCkuc3Vic3RyKDAsIDgpXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLmF1dGhIZWFkZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFtcbiAgICAnQVdTNC1ITUFDLVNIQTI1NiBDcmVkZW50aWFsPScgKyB0aGlzLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkICsgJy8nICsgdGhpcy5jcmVkZW50aWFsU3RyaW5nKCksXG4gICAgJ1NpZ25lZEhlYWRlcnM9JyArIHRoaXMuc2lnbmVkSGVhZGVycygpLFxuICAgICdTaWduYXR1cmU9JyArIHRoaXMuc2lnbmF0dXJlKCksXG4gIF0uam9pbignLCAnKVxufVxuXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5zaWduYXR1cmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGRhdGUgPSB0aGlzLmdldERhdGUoKSxcbiAgICAgIGNhY2hlS2V5ID0gW3RoaXMuY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5LCBkYXRlLCB0aGlzLnJlZ2lvbiwgdGhpcy5zZXJ2aWNlXS5qb2luKCksXG4gICAgICBrRGF0ZSwga1JlZ2lvbiwga1NlcnZpY2UsIGtDcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzQ2FjaGUuZ2V0KGNhY2hlS2V5KVxuICBpZiAoIWtDcmVkZW50aWFscykge1xuICAgIGtEYXRlID0gaG1hYygnQVdTNCcgKyB0aGlzLmNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleSwgZGF0ZSlcbiAgICBrUmVnaW9uID0gaG1hYyhrRGF0ZSwgdGhpcy5yZWdpb24pXG4gICAga1NlcnZpY2UgPSBobWFjKGtSZWdpb24sIHRoaXMuc2VydmljZSlcbiAgICBrQ3JlZGVudGlhbHMgPSBobWFjKGtTZXJ2aWNlLCAnYXdzNF9yZXF1ZXN0JylcbiAgICBjcmVkZW50aWFsc0NhY2hlLnNldChjYWNoZUtleSwga0NyZWRlbnRpYWxzKVxuICB9XG4gIHJldHVybiBobWFjKGtDcmVkZW50aWFscywgdGhpcy5zdHJpbmdUb1NpZ24oKSwgJ2hleCcpXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLnN0cmluZ1RvU2lnbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gW1xuICAgICdBV1M0LUhNQUMtU0hBMjU2JyxcbiAgICB0aGlzLmdldERhdGVUaW1lKCksXG4gICAgdGhpcy5jcmVkZW50aWFsU3RyaW5nKCksXG4gICAgaGFzaCh0aGlzLmNhbm9uaWNhbFN0cmluZygpLCAnaGV4JyksXG4gIF0uam9pbignXFxuJylcbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUuY2Fub25pY2FsU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5wYXJzZWRQYXRoKSB0aGlzLnByZXBhcmVSZXF1ZXN0KClcblxuICB2YXIgcGF0aFN0ciA9IHRoaXMucGFyc2VkUGF0aC5wYXRoLFxuICAgICAgcXVlcnkgPSB0aGlzLnBhcnNlZFBhdGgucXVlcnksXG4gICAgICBoZWFkZXJzID0gdGhpcy5yZXF1ZXN0LmhlYWRlcnMsXG4gICAgICBxdWVyeVN0ciA9ICcnLFxuICAgICAgbm9ybWFsaXplUGF0aCA9IHRoaXMuc2VydmljZSAhPT0gJ3MzJyxcbiAgICAgIGRlY29kZVBhdGggPSB0aGlzLnNlcnZpY2UgPT09ICdzMycgfHwgdGhpcy5yZXF1ZXN0LmRvTm90RW5jb2RlUGF0aCxcbiAgICAgIGRlY29kZVNsYXNoZXNJblBhdGggPSB0aGlzLnNlcnZpY2UgPT09ICdzMycsXG4gICAgICBmaXJzdFZhbE9ubHkgPSB0aGlzLnNlcnZpY2UgPT09ICdzMycsXG4gICAgICBib2R5SGFzaFxuXG4gIGlmICh0aGlzLnNlcnZpY2UgPT09ICdzMycgJiYgdGhpcy5yZXF1ZXN0LnNpZ25RdWVyeSkge1xuICAgIGJvZHlIYXNoID0gJ1VOU0lHTkVELVBBWUxPQUQnXG4gIH0gZWxzZSBpZiAodGhpcy5pc0NvZGVDb21taXRHaXQpIHtcbiAgICBib2R5SGFzaCA9ICcnXG4gIH0gZWxzZSB7XG4gICAgYm9keUhhc2ggPSBoZWFkZXJzWydYLUFtei1Db250ZW50LVNoYTI1NiddIHx8IGhlYWRlcnNbJ3gtYW16LWNvbnRlbnQtc2hhMjU2J10gfHxcbiAgICAgIGhhc2godGhpcy5yZXF1ZXN0LmJvZHkgfHwgJycsICdoZXgnKVxuICB9XG5cbiAgaWYgKHF1ZXJ5KSB7XG4gICAgdmFyIHJlZHVjZWRRdWVyeSA9IE9iamVjdC5rZXlzKHF1ZXJ5KS5yZWR1Y2UoZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICAgIGlmICgha2V5KSByZXR1cm4gb2JqXG4gICAgICBvYmpbZW5jb2RlUmZjMzk4NkZ1bGwoa2V5KV0gPSAhQXJyYXkuaXNBcnJheShxdWVyeVtrZXldKSA/IHF1ZXJ5W2tleV0gOlxuICAgICAgICAoZmlyc3RWYWxPbmx5ID8gcXVlcnlba2V5XVswXSA6IHF1ZXJ5W2tleV0pXG4gICAgICByZXR1cm4gb2JqXG4gICAgfSwge30pXG4gICAgdmFyIGVuY29kZWRRdWVyeVBpZWNlcyA9IFtdXG4gICAgT2JqZWN0LmtleXMocmVkdWNlZFF1ZXJ5KS5zb3J0KCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWR1Y2VkUXVlcnlba2V5XSkpIHtcbiAgICAgICAgZW5jb2RlZFF1ZXJ5UGllY2VzLnB1c2goa2V5ICsgJz0nICsgZW5jb2RlUmZjMzk4NkZ1bGwocmVkdWNlZFF1ZXJ5W2tleV0pKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVkdWNlZFF1ZXJ5W2tleV0ubWFwKGVuY29kZVJmYzM5ODZGdWxsKS5zb3J0KClcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbih2YWwpIHsgZW5jb2RlZFF1ZXJ5UGllY2VzLnB1c2goa2V5ICsgJz0nICsgdmFsKSB9KVxuICAgICAgfVxuICAgIH0pXG4gICAgcXVlcnlTdHIgPSBlbmNvZGVkUXVlcnlQaWVjZXMuam9pbignJicpXG4gIH1cbiAgaWYgKHBhdGhTdHIgIT09ICcvJykge1xuICAgIGlmIChub3JtYWxpemVQYXRoKSBwYXRoU3RyID0gcGF0aFN0ci5yZXBsYWNlKC9cXC97Mix9L2csICcvJylcbiAgICBwYXRoU3RyID0gcGF0aFN0ci5zcGxpdCgnLycpLnJlZHVjZShmdW5jdGlvbihwYXRoLCBwaWVjZSkge1xuICAgICAgaWYgKG5vcm1hbGl6ZVBhdGggJiYgcGllY2UgPT09ICcuLicpIHtcbiAgICAgICAgcGF0aC5wb3AoKVxuICAgICAgfSBlbHNlIGlmICghbm9ybWFsaXplUGF0aCB8fCBwaWVjZSAhPT0gJy4nKSB7XG4gICAgICAgIGlmIChkZWNvZGVQYXRoKSBwaWVjZSA9IGRlY29kZVVSSUNvbXBvbmVudChwaWVjZS5yZXBsYWNlKC9cXCsvZywgJyAnKSlcbiAgICAgICAgcGF0aC5wdXNoKGVuY29kZVJmYzM5ODZGdWxsKHBpZWNlKSlcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRoXG4gICAgfSwgW10pLmpvaW4oJy8nKVxuICAgIGlmIChwYXRoU3RyWzBdICE9PSAnLycpIHBhdGhTdHIgPSAnLycgKyBwYXRoU3RyXG4gICAgaWYgKGRlY29kZVNsYXNoZXNJblBhdGgpIHBhdGhTdHIgPSBwYXRoU3RyLnJlcGxhY2UoLyUyRi9nLCAnLycpXG4gIH1cblxuICByZXR1cm4gW1xuICAgIHRoaXMucmVxdWVzdC5tZXRob2QgfHwgJ0dFVCcsXG4gICAgcGF0aFN0cixcbiAgICBxdWVyeVN0cixcbiAgICB0aGlzLmNhbm9uaWNhbEhlYWRlcnMoKSArICdcXG4nLFxuICAgIHRoaXMuc2lnbmVkSGVhZGVycygpLFxuICAgIGJvZHlIYXNoLFxuICBdLmpvaW4oJ1xcbicpXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLmZpbHRlckhlYWRlcnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGhlYWRlcnMgPSB0aGlzLnJlcXVlc3QuaGVhZGVycyxcbiAgICAgIGV4dHJhSGVhZGVyc1RvSW5jbHVkZSA9IHRoaXMuZXh0cmFIZWFkZXJzVG9JbmNsdWRlLFxuICAgICAgZXh0cmFIZWFkZXJzVG9JZ25vcmUgPSB0aGlzLmV4dHJhSGVhZGVyc1RvSWdub3JlXG4gIHRoaXMuZmlsdGVyZWRIZWFkZXJzID0gT2JqZWN0LmtleXMoaGVhZGVycylcbiAgICAubWFwKGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gW2tleS50b0xvd2VyQ2FzZSgpLCBoZWFkZXJzW2tleV1dIH0pXG4gICAgLmZpbHRlcihmdW5jdGlvbihlbnRyeSkge1xuICAgICAgcmV0dXJuIGV4dHJhSGVhZGVyc1RvSW5jbHVkZVtlbnRyeVswXV0gfHxcbiAgICAgICAgKEhFQURFUlNfVE9fSUdOT1JFW2VudHJ5WzBdXSA9PSBudWxsICYmICFleHRyYUhlYWRlcnNUb0lnbm9yZVtlbnRyeVswXV0pXG4gICAgfSlcbiAgICAuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhWzBdIDwgYlswXSA/IC0xIDogMSB9KVxufVxuXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5jYW5vbmljYWxIZWFkZXJzID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5maWx0ZXJlZEhlYWRlcnMpIHRoaXMuZmlsdGVySGVhZGVycygpXG5cbiAgcmV0dXJuIHRoaXMuZmlsdGVyZWRIZWFkZXJzLm1hcChmdW5jdGlvbihlbnRyeSkge1xuICAgIHJldHVybiBlbnRyeVswXSArICc6JyArIGVudHJ5WzFdLnRvU3RyaW5nKCkudHJpbSgpLnJlcGxhY2UoL1xccysvZywgJyAnKVxuICB9KS5qb2luKCdcXG4nKVxufVxuXG5SZXF1ZXN0U2lnbmVyLnByb3RvdHlwZS5zaWduZWRIZWFkZXJzID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5maWx0ZXJlZEhlYWRlcnMpIHRoaXMuZmlsdGVySGVhZGVycygpXG5cbiAgcmV0dXJuIHRoaXMuZmlsdGVyZWRIZWFkZXJzLm1hcChmdW5jdGlvbihlbnRyeSkgeyByZXR1cm4gZW50cnlbMF0gfSkuam9pbignOycpXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLmNyZWRlbnRpYWxTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFtcbiAgICB0aGlzLmdldERhdGUoKSxcbiAgICB0aGlzLnJlZ2lvbixcbiAgICB0aGlzLnNlcnZpY2UsXG4gICAgJ2F3czRfcmVxdWVzdCcsXG4gIF0uam9pbignLycpXG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLmRlZmF1bHRDcmVkZW50aWFscyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZW52ID0gcHJvY2Vzcy5lbnZcbiAgcmV0dXJuIHtcbiAgICBhY2Nlc3NLZXlJZDogZW52LkFXU19BQ0NFU1NfS0VZX0lEIHx8IGVudi5BV1NfQUNDRVNTX0tFWSxcbiAgICBzZWNyZXRBY2Nlc3NLZXk6IGVudi5BV1NfU0VDUkVUX0FDQ0VTU19LRVkgfHwgZW52LkFXU19TRUNSRVRfS0VZLFxuICAgIHNlc3Npb25Ub2tlbjogZW52LkFXU19TRVNTSU9OX1RPS0VOLFxuICB9XG59XG5cblJlcXVlc3RTaWduZXIucHJvdG90eXBlLnBhcnNlUGF0aCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aCA9IHRoaXMucmVxdWVzdC5wYXRoIHx8ICcvJ1xuXG4gIC8vIFMzIGRvZXNuJ3QgYWx3YXlzIGVuY29kZSBjaGFyYWN0ZXJzID4gMTI3IGNvcnJlY3RseSBhbmRcbiAgLy8gYWxsIHNlcnZpY2VzIGRvbid0IGVuY29kZSBjaGFyYWN0ZXJzID4gMjU1IGNvcnJlY3RseVxuICAvLyBTbyBpZiB0aGVyZSBhcmUgbm9uLXJlc2VydmVkIGNoYXJzIChhbmQgaXQncyBub3QgYWxyZWFkeSBhbGwgJSBlbmNvZGVkKSwganVzdCBlbmNvZGUgdGhlbSBhbGxcbiAgaWYgKC9bXjAtOUEtWmEtejssLz86QCY9KyRcXC1fLiF+KicoKSMlXS8udGVzdChwYXRoKSkge1xuICAgIHBhdGggPSBlbmNvZGVVUkkoZGVjb2RlVVJJKHBhdGgpKVxuICB9XG5cbiAgdmFyIHF1ZXJ5SXggPSBwYXRoLmluZGV4T2YoJz8nKSxcbiAgICAgIHF1ZXJ5ID0gbnVsbFxuXG4gIGlmIChxdWVyeUl4ID49IDApIHtcbiAgICBxdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHBhdGguc2xpY2UocXVlcnlJeCArIDEpKVxuICAgIHBhdGggPSBwYXRoLnNsaWNlKDAsIHF1ZXJ5SXgpXG4gIH1cblxuICB0aGlzLnBhcnNlZFBhdGggPSB7XG4gICAgcGF0aDogcGF0aCxcbiAgICBxdWVyeTogcXVlcnksXG4gIH1cbn1cblxuUmVxdWVzdFNpZ25lci5wcm90b3R5cGUuZm9ybWF0UGF0aCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGF0aCA9IHRoaXMucGFyc2VkUGF0aC5wYXRoLFxuICAgICAgcXVlcnkgPSB0aGlzLnBhcnNlZFBhdGgucXVlcnlcblxuICBpZiAoIXF1ZXJ5KSByZXR1cm4gcGF0aFxuXG4gIC8vIFNlcnZpY2VzIGRvbid0IHN1cHBvcnQgZW1wdHkgcXVlcnkgc3RyaW5nIGtleXNcbiAgaWYgKHF1ZXJ5WycnXSAhPSBudWxsKSBkZWxldGUgcXVlcnlbJyddXG5cbiAgcmV0dXJuIHBhdGggKyAnPycgKyBlbmNvZGVSZmMzOTg2KHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeShxdWVyeSkpXG59XG5cbmF3czQuUmVxdWVzdFNpZ25lciA9IFJlcXVlc3RTaWduZXJcblxuYXdzNC5zaWduID0gZnVuY3Rpb24ocmVxdWVzdCwgY3JlZGVudGlhbHMpIHtcbiAgcmV0dXJuIG5ldyBSZXF1ZXN0U2lnbmVyKHJlcXVlc3QsIGNyZWRlbnRpYWxzKS5zaWduKClcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/aws4/aws4.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/aws4/lru.js":
/*!**********************************!*\
  !*** ./node_modules/aws4/lru.js ***!
  \**********************************/
/***/ ((module) => {

eval("module.exports = function(size) {\n  return new LruCache(size)\n}\n\nfunction LruCache(size) {\n  this.capacity = size | 0\n  this.map = Object.create(null)\n  this.list = new DoublyLinkedList()\n}\n\nLruCache.prototype.get = function(key) {\n  var node = this.map[key]\n  if (node == null) return undefined\n  this.used(node)\n  return node.val\n}\n\nLruCache.prototype.set = function(key, val) {\n  var node = this.map[key]\n  if (node != null) {\n    node.val = val\n  } else {\n    if (!this.capacity) this.prune()\n    if (!this.capacity) return false\n    node = new DoublyLinkedNode(key, val)\n    this.map[key] = node\n    this.capacity--\n  }\n  this.used(node)\n  return true\n}\n\nLruCache.prototype.used = function(node) {\n  this.list.moveToFront(node)\n}\n\nLruCache.prototype.prune = function() {\n  var node = this.list.pop()\n  if (node != null) {\n    delete this.map[node.key]\n    this.capacity++\n  }\n}\n\n\nfunction DoublyLinkedList() {\n  this.firstNode = null\n  this.lastNode = null\n}\n\nDoublyLinkedList.prototype.moveToFront = function(node) {\n  if (this.firstNode == node) return\n\n  this.remove(node)\n\n  if (this.firstNode == null) {\n    this.firstNode = node\n    this.lastNode = node\n    node.prev = null\n    node.next = null\n  } else {\n    node.prev = null\n    node.next = this.firstNode\n    node.next.prev = node\n    this.firstNode = node\n  }\n}\n\nDoublyLinkedList.prototype.pop = function() {\n  var lastNode = this.lastNode\n  if (lastNode != null) {\n    this.remove(lastNode)\n  }\n  return lastNode\n}\n\nDoublyLinkedList.prototype.remove = function(node) {\n  if (this.firstNode == node) {\n    this.firstNode = node.next\n  } else if (node.prev != null) {\n    node.prev.next = node.next\n  }\n  if (this.lastNode == node) {\n    this.lastNode = node.prev\n  } else if (node.next != null) {\n    node.next.prev = node.prev\n  }\n}\n\n\nfunction DoublyLinkedNode(key, val) {\n  this.key = key\n  this.val = val\n  this.prev = null\n  this.next = null\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvYXdzNC9scnUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3MyLXNraW4tdHJhY2tlci8uL25vZGVfbW9kdWxlcy9hd3M0L2xydS5qcz9kMTY3Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2l6ZSkge1xuICByZXR1cm4gbmV3IExydUNhY2hlKHNpemUpXG59XG5cbmZ1bmN0aW9uIExydUNhY2hlKHNpemUpIHtcbiAgdGhpcy5jYXBhY2l0eSA9IHNpemUgfCAwXG4gIHRoaXMubWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICB0aGlzLmxpc3QgPSBuZXcgRG91Ymx5TGlua2VkTGlzdCgpXG59XG5cbkxydUNhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgdmFyIG5vZGUgPSB0aGlzLm1hcFtrZXldXG4gIGlmIChub2RlID09IG51bGwpIHJldHVybiB1bmRlZmluZWRcbiAgdGhpcy51c2VkKG5vZGUpXG4gIHJldHVybiBub2RlLnZhbFxufVxuXG5McnVDYWNoZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgdmFyIG5vZGUgPSB0aGlzLm1hcFtrZXldXG4gIGlmIChub2RlICE9IG51bGwpIHtcbiAgICBub2RlLnZhbCA9IHZhbFxuICB9IGVsc2Uge1xuICAgIGlmICghdGhpcy5jYXBhY2l0eSkgdGhpcy5wcnVuZSgpXG4gICAgaWYgKCF0aGlzLmNhcGFjaXR5KSByZXR1cm4gZmFsc2VcbiAgICBub2RlID0gbmV3IERvdWJseUxpbmtlZE5vZGUoa2V5LCB2YWwpXG4gICAgdGhpcy5tYXBba2V5XSA9IG5vZGVcbiAgICB0aGlzLmNhcGFjaXR5LS1cbiAgfVxuICB0aGlzLnVzZWQobm9kZSlcbiAgcmV0dXJuIHRydWVcbn1cblxuTHJ1Q2FjaGUucHJvdG90eXBlLnVzZWQgPSBmdW5jdGlvbihub2RlKSB7XG4gIHRoaXMubGlzdC5tb3ZlVG9Gcm9udChub2RlKVxufVxuXG5McnVDYWNoZS5wcm90b3R5cGUucHJ1bmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG5vZGUgPSB0aGlzLmxpc3QucG9wKClcbiAgaWYgKG5vZGUgIT0gbnVsbCkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub2RlLmtleV1cbiAgICB0aGlzLmNhcGFjaXR5KytcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIERvdWJseUxpbmtlZExpc3QoKSB7XG4gIHRoaXMuZmlyc3ROb2RlID0gbnVsbFxuICB0aGlzLmxhc3ROb2RlID0gbnVsbFxufVxuXG5Eb3VibHlMaW5rZWRMaXN0LnByb3RvdHlwZS5tb3ZlVG9Gcm9udCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgaWYgKHRoaXMuZmlyc3ROb2RlID09IG5vZGUpIHJldHVyblxuXG4gIHRoaXMucmVtb3ZlKG5vZGUpXG5cbiAgaWYgKHRoaXMuZmlyc3ROb2RlID09IG51bGwpIHtcbiAgICB0aGlzLmZpcnN0Tm9kZSA9IG5vZGVcbiAgICB0aGlzLmxhc3ROb2RlID0gbm9kZVxuICAgIG5vZGUucHJldiA9IG51bGxcbiAgICBub2RlLm5leHQgPSBudWxsXG4gIH0gZWxzZSB7XG4gICAgbm9kZS5wcmV2ID0gbnVsbFxuICAgIG5vZGUubmV4dCA9IHRoaXMuZmlyc3ROb2RlXG4gICAgbm9kZS5uZXh0LnByZXYgPSBub2RlXG4gICAgdGhpcy5maXJzdE5vZGUgPSBub2RlXG4gIH1cbn1cblxuRG91Ymx5TGlua2VkTGlzdC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24oKSB7XG4gIHZhciBsYXN0Tm9kZSA9IHRoaXMubGFzdE5vZGVcbiAgaWYgKGxhc3ROb2RlICE9IG51bGwpIHtcbiAgICB0aGlzLnJlbW92ZShsYXN0Tm9kZSlcbiAgfVxuICByZXR1cm4gbGFzdE5vZGVcbn1cblxuRG91Ymx5TGlua2VkTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAodGhpcy5maXJzdE5vZGUgPT0gbm9kZSkge1xuICAgIHRoaXMuZmlyc3ROb2RlID0gbm9kZS5uZXh0XG4gIH0gZWxzZSBpZiAobm9kZS5wcmV2ICE9IG51bGwpIHtcbiAgICBub2RlLnByZXYubmV4dCA9IG5vZGUubmV4dFxuICB9XG4gIGlmICh0aGlzLmxhc3ROb2RlID09IG5vZGUpIHtcbiAgICB0aGlzLmxhc3ROb2RlID0gbm9kZS5wcmV2XG4gIH0gZWxzZSBpZiAobm9kZS5uZXh0ICE9IG51bGwpIHtcbiAgICBub2RlLm5leHQucHJldiA9IG5vZGUucHJldlxuICB9XG59XG5cblxuZnVuY3Rpb24gRG91Ymx5TGlua2VkTm9kZShrZXksIHZhbCkge1xuICB0aGlzLmtleSA9IGtleVxuICB0aGlzLnZhbCA9IHZhbFxuICB0aGlzLnByZXYgPSBudWxsXG4gIHRoaXMubmV4dCA9IG51bGxcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/aws4/lru.js\n");

/***/ })

};
;